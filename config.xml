<?xml version="1.0" encoding="UTF-8"?>
<widget xmlns   = "http://www.w3.org/ns/widgets"
        xmlns:gap   = "http://phonegap.com/ns/1.0"
        id          = "com.iiuk.myiiuk"
        versionCode = "191" 
        version     = "1.1.15" >

    <name>IIUK</name>

    <description>
        Developed by Ismaili Council for the UK
    </description>

    <author href="http://www.iiuk.org" email="iiukadmin@iiuk.org">
        Ismaili Council for the UK
    </author>

    <preference name="phonegap-version" value="cli-8.0.0" />
    <preference name='pgb-builder-version' value='2' />
	<preference name="android-targetSdkVersion" value="26"/>
	<preference name="android-build-tool" value="gradle" />
		
	<platform name="android"/>
	<platform name="ios"/>

<!--    <icon src="icons_iiuk/icon.png" /> Not sure about if this is needed for notifications-->
    
	<!-- General iPhone Splash Screen -->
	<platform name="ios">
		<splash src="icons_iiuk/Default@2x~universal~anyany.png" />	    
	</platform>
	  
	<!-- iOS 11 Icon for Store -->
	<icon src="icons_iiuk/Icon-512-2x.png" width="1024" height="1024" />
    	  
	<platform name="android">
		<icon density="ldpi" src="res/icons/android/drawable-ldpi-icon.png" />
		<icon density="mdpi" src="res/icons/android/drawable-mdpi-icon.png" />
		<icon density="hdpi" src="res/icons/android/drawable-hdpi-icon.png" />
		<icon density="xhdpi" src="res/icons/android/drawable-xhdpi-icon.png" />
		<icon density="xxhdpi" src="res/icons/android/drawable-xxhdpi-icon.png" />
		<icon density="xxxhdpi" src="res/icons/android/drawable-xxxhdpi-icon.png" />
		<splash density="land-ldpi" src="res/screens/android/drawable-land-ldpi-screen.png" />
		<splash density="land-mdpi" src="res/screens/android/drawable-land-mdpi-screen.png" />
		<splash density="land-hdpi" src="res/screens/android/drawable-land-hdpi-screen.png" />
		<splash density="land-xhdpi" src="res/screens/android/drawable-land-xhdpi-screen.png" />
		<splash density="land-xxhdpi" src="res/screens/android/drawable-land-xxhdpi-screen.png" />
		<splash density="land-xxxhdpi" src="res/screens/android/drawable-land-xxxhdpi-screen.png" />
		<splash density="port-ldpi" src="res/screens/android/drawable-port-ldpi-screen.png" />
		<splash density="port-mdpi" src="res/screens/android/drawable-port-mdpi-screen.png" />
		<splash density="port-hdpi" src="res/screens/android/drawable-port-hdpi-screen.png" />
		<splash density="port-xhdpi" src="res/screens/android/drawable-port-xhdpi-screen.png" />
		<splash density="port-xxhdpi" src="res/screens/android/drawable-port-xxhdpi-screen.png" />
		<splash density="port-xxxhdpi" src="res/screens/android/drawable-port-xxxhdpi-screen.png" />
	</platform>
	<platform name="ios">
		<icon height="57" platform="ios" src="res/icons/ios/icon.png" width="57" />
		<icon height="114" platform="ios" src="res/icons/ios/icon@2x.png" width="114" />
		<icon height="40" platform="ios" src="res/icons/ios/icon-40.png" width="40" />
		<icon height="80" platform="ios" src="res/icons/ios/icon-40@2x.png" width="80" />
		<icon height="50" platform="ios" src="res/icons/ios/icon-50.png" width="50" />
		<icon height="100" platform="ios" src="res/icons/ios/icon-50@2x.png" width="100" />
		<icon height="60" platform="ios" src="res/icons/ios/icon-60.png" width="60" />
		<icon height="120" platform="ios" src="res/icons/ios/icon-60@2x.png" width="120" />
		<icon height="180" platform="ios" src="res/icons/ios/icon-60@3x.png" width="180" />
		<icon height="72" platform="ios" src="res/icons/ios/icon-72.png" width="72" />
		<icon height="144" platform="ios" src="res/icons/ios/icon-72@2x.png" width="144" />
		<icon height="76" platform="ios" src="res/icons/ios/icon-76.png" width="76" />
		<icon height="152" platform="ios" src="res/icons/ios/icon-76@2x.png" width="152" />
		<icon height="29" platform="ios" src="res/icons/ios/icon-small.png" width="29" />
		<icon height="58" platform="ios" src="res/icons/ios/icon-small@2x.png" width="58" />
		<icon height="87" platform="ios" src="res/icons/ios/icon-small@3x.png" width="87" />
		<splash height="1136" platform="ios" src="res/screens/ios/Default-568h@2x~iphone.png" width="640" />
		<splash height="1334" platform="ios" src="res/screens/ios/Default-667h.png" width="750" />
		<splash height="2208" platform="ios" src="res/screens/ios/Default-736h.png" width="1242" />
		<splash height="1242" platform="ios" src="res/screens/ios/Default-Landscape-736h.png" width="2208" />
		<splash height="1536" platform="ios" src="res/screens/ios/Default-Landscape@2x~ipad.png" width="2048" />
		<splash height="768" platform="ios" src="res/screens/ios/Default-Landscape~ipad.png" width="1024" />
		<splash height="2048" platform="ios" src="res/screens/ios/Default-Portrait@2x~ipad.png" width="1536" />
		<splash height="1024" platform="ios" src="res/screens/ios/Default-Portrait~ipad.png" width="768" />
		<splash height="960" platform="ios" src="res/screens/ios/Default@2x~iphone.png" width="640" />
		<splash height="480" platform="ios" src="res/screens/ios/Default~iphone.png" width="320" />
	</platform>
    
    <content src="index.html" />
    <preference name="permissions" value="none" />
    <feature name="http://api.phonegap.com/1.0/network" />
    <feature name="http://api.phonegap.com/1.0/notification" />
    
    <!--    <preference name="StatusBarOverlaysWebView" value="true" /> -->
<preference name="StatusBarOverlaysWebView" value="true"/>
<preference name="StatusBarStyle" value="lightcontent" />

	<preference name="DisallowOverscroll" value="true" />
    <preference name="orientation" value="default" />
    <preference name="target-device" value="universal" />
    <preference name="Fullscreen" value="false" /> 
    <preference name="WebViewBounce" value="false" /> 	
    <preference name="prerendered-icon" value="false" /> 	
    <preference name="stay-in-webview" value="false" />
<!--    <preference name="ios-statusbarstyle" value="lightcontent" />  -->
    <preference name="detect-data-types" value="true" />
    <preference name="exit-on-suspend" value="false" />
    <preference name="ShowSplashScreenSpinner" value="false"/>
    <!--    <preference name="AutoHideSplashScreen" value="false" /> -->
    <preference name="disable-cursor" value="false" />
    <preference name="KeepRunning" value="true"/>
    <preference name="android-minSdkVersion" value="16" />
    <preference name="android-installLocation" value="auto" />
	
	<!--<gap:plugin name="org.apache.cordova.media" />  -->

	<plugin name="cordova-plugin-device" />
	<plugin name="cordova-plugin-device-orientation" />
	<plugin name="cordova-plugin-dialogs" />
	<plugin name="cordova-plugin-globalization" />
	<plugin name="cordova-plugin-inappbrowser" />
	<plugin name="cordova-plugin-network-information" />
	<plugin name="cordova-plugin-splashscreen" /> 
	<plugin name="cordova-plugin-vibration" />
	<plugin name="cordova-plugin-statusbar" />
	<plugin name="cordova-plugin--disable-ios11-statusbar" spec="https://github.com/jcesarmobile/cordova-plugin-disable-ios11-statusbar" />
	<plugin name="cordova_app_version_plugin" />	
	<!--<plugin name="net.bgta.phonegap.plugin.appversion" spec="1.1.1" source="pgb" />
	<plugin name="de.appplant.cordova.plugin.badge" />-->

    <plugin name="cordova-plugin-datepicker"/>
    <plugin name="cordova-plugin-email-composer"/>
    <plugin name="cordova-plugin-badge"/>
	
	<plugin name="cordova-plugin-calendar" >
		 <variable name="CALENDAR_USAGE_DESCRIPTION" value="Calendar access required to be able to add events to your calendar." />
	</plugin>

	<!-- Test if you need this -->
	<plugin name="cordova-plugin-camera">
	      <variable name="CAMERA_USAGE_DESCRIPTION" value="Camera access is required for barcode scanning functionality." />
	</plugin>
	
	<plugin name="cordova-plugin-ios-camera-permissions" >
	     <variable name="CAMERA_USAGE_DESCRIPTION" value="Camera access is required for barcode scanning functionality." />
	</plugin>

    <!--	<gap:plugin name="https://github.com/katzer/cordova-plugin-local-notifications.git" source="git"/>
	<gap:plugin name="de.appplant.cordova.plugin.local-notification" /> -->
<!--
	now causing push notifications to fail see https://github.com/phonegap/phonegap-plugin-push/issues/1959
		<plugin name="de.appplant.cordova.plugin.local-notification" />	 -->


<!--    <plugin name="phonegap-plugin-barcodescanner" source="npm" spec="https://github.com/phonegap/phonegap-plugin-barcodescanner.git" /> -->
<plugin name="phonegap-plugin-barcodescanner" spec="https://github.com/slickalpha/phonegap-plugin-barcodescanner.git" source="git" /> <!-- hacked version to fix build -->
	
<!--    <plugin name="phonegap-plugin-push" source="npm" spec="2.0.0" /> Workign with cli 7.0.1-->
    <plugin name="phonegap-plugin-push" source="npm" spec="2.1.3">
	        <variable name="FCM_VERSION" value="11.0.1" /> <!-- Added to try to resolve -->
    </plugin>
	  
    <platform name="android">
<!--	  <resource-file src="google-services.json" target="google-services.json" /> -->
      <resource-file src="google-services.json" target="app/google-services.json" />
	</platform>
     
   	<allow-navigation href="http://*/*" />
	<allow-navigation href="https://*/*" />
	<allow-navigation href="data:*" />
	
	<access origin="*" />

    <plugin name="cordova-plugin-whitelist" version="1" />
    <allow-intent href="http://*/*" />
    <allow-intent href="https://*/*" />
    <allow-intent href="tel:*" />
    <allow-intent href="sms:*" />
    <allow-intent href="mailto:*" />
    <allow-intent href="geo:*" />
    <platform name="android">
        <allow-intent href="market:*" />
    </platform>
    <platform name="ios">
        <allow-intent href="itms:*" />
        <allow-intent href="itms-apps:*" />
    </platform>

	<platform name="ios">
     <edit-config target="NSCalendarsUsageDescription" file="*-Info.plist">
          <string>Calendar access required to be able to add events to your calendar.</string>
     </edit-config>

	<!-- Test if you need this -->
    <!-- <edit-config target="NSCameraUsageDescription" file="*-Info.plist" mode="overwrite"> -->
   	 <edit-config target="NSCameraUsageDescription" file="*-Info.plist">
          <string>Camera access is required for barcode scanning functionality.</string>
     </edit-config>
	</platform>

    <engine name="android" spec="~7.0.0" />
    <engine name="ios" spec="~4.5.4" />
<!--    <engine name="ios" spec="latest"/> -->
     
</widget>