<?xml version="1.0" encoding="UTF-8"?>
<widget xmlns   = "http://www.w3.org/ns/widgets"
        xmlns:gap   = "http://phonegap.com/ns/1.0"
        id          = "com.iiuk.myiiuk"
        versionCode = "191" 
        version     = "1.1.15" >

    <name>IIUK</name>

    <description>
        Developed by Ismaili Council for the UK
    </description>

    <author href="http://www.iiuk.org" email="iiukadmin@iiuk.org">
        Ismaili Council for the UK
    </author>

<!--    <preference name="phonegap-version" value="cli-7.0.1" /> --> <!-- Might need at least 7.1.0 for iphone, tested with 8.0.0 and working but breaks android) -->

    <preference name="phonegap-version" value="cli-7.0.1" /> <!-- 7.0.1 works Might need at least 7.1.0 for iphone, tested with 8.0.0 and working but breaks android) -->
    <preference name='pgb-builder-version' value='2' />
	<preference name="android-targetSdkVersion" value="26"/>
	<preference name="android-build-tool" value="gradle" />
		
	<platform name="android"/>
	<platform name="ios"/>

    <icon src="icons_iiuk/mipmap-ldpi/ic_launcher.png" gap:platform="android" gap:density="ldpi" />
    <icon src="icons_iiuk/mipmap-mdpi/ic_launcher.png" gap:platform="android" gap:density="mdpi" />
    <icon src="icons_iiuk/mipmap-hdpi/ic_launcher.png" gap:platform="android" gap:density="hdpi" />
    <icon src="icons_iiuk/mipmap-xhdpi/ic_launcher.png" gap:platform="android" gap:density="xhdpi" />
    <icon src="icons_iiuk/mipmap-xxhdpi/ic_launcher.png" gap:platform="android" gap:density="xxhdpi" />
    <icon src="icons_iiuk/mipmap-xxxhdpi/ic_launcher.png" gap:platform="android" gap:density="xxxhdpi" />

    <icon src="icons_iiuk/icon.png" />

	<!-- General iPhone -->
	<platform name="ios">
		<splash src="icons_iiuk/Default@2x~universal~anyany.png" />	    
	</platform>
	    
    <!-- iPhone 6 / 6+ -->
    <icon src="icons_iiuk/icon-60@3x.png" gap:platform="ios" width="180" height="180" />

    <!-- iPhone / iPod Touch  -->
    <icon src="icons_iiuk/icon-60.png" gap:platform="ios" width="60" height="60" />
    <icon src="icons_iiuk/icon-60@2x.png" gap:platform="ios" width="120" height="120" />

    <!-- iPad -->
    <icon src="icons_iiuk/icon-76.png" gap:platform="ios" width="76" height="76" />
    <icon src="icons_iiuk/icon-76@2x.png" gap:platform="ios" width="152" height="152" />

    <!-- Settings Icon -->
    <icon src="icons_iiuk/icon-small.png" gap:platform="ios" width="29" height="29" />
    <icon src="icons_iiuk/icon-small@2x.png" gap:platform="ios" width="58" height="58" />
    <icon src="icons_iiuk/icon-small@3x.png" gap:platform="ios" width="87" height="87" />

    <!-- Spotlight Icon -->
    <icon src="icons_iiuk/icon-40.png" gap:platform="ios" width="40" height="40" />
    <icon src="icons_iiuk/icon-40@2x.png" gap:platform="ios" width="80" height="80" />

    <!-- iPhone / iPod Touch -->
    <icon src="icons_iiuk/icon-57.png" gap:platform="ios" width="57" height="57" />
    <icon src="icons_iiuk/icon@2x.png" gap:platform="ios" width="114" height="114" />

    <!-- iPad -->
    <icon src="icons_iiuk/Icon-72.png" gap:platform="ios" width="72" height="72" />
    <icon src="icons_iiuk/Icon-72@2x.png" gap:platform="ios" width="144" height="144" />

    <!-- iPhone Spotlight and Settings Icon -->    
    <icon src="icons_iiuk/Icon-small.png" gap:platform="ios" width="29" height="29" />
    <icon src="icons_iiuk/Icon-small@2x.png" gap:platform="ios" width="58" height="58" />
    <icon src="icons_iiuk/Icon-40@3x.png" gap:platform="ios" width="120" height="120" />

    <!-- iPad Spotlight and Settings Icon -->
    <icon src="icons_iiuk/Icon-Small-50.png" gap:platform="ios" width="50" height="50" />
    <icon src="icons_iiuk/Icon-Small-50@2x.png" gap:platform="ios" width="100" height="100" />
    <icon src="icons_iiuk/Icon-83.5@2x.png" gap:platform="ios" width="167" height="167" />

	<!-- ios 11 Icon -->
	<icon src="icons_iiuk/Icon-512-2x.png" width="1024" height="1024" />
  
    <content src="index.html" />
    <preference name="permissions" value="none" />
    <feature name="http://api.phonegap.com/1.0/network" />
    <feature name="http://api.phonegap.com/1.0/notification" />
    
    <!--    <preference name="StatusBarOverlaysWebView" value="true" /> -->
<preference name="StatusBarOverlaysWebView" value="true"/>
<preference name="StatusBarStyle" value="lightcontent" />

	<preference name="DisallowOverscroll" value="true" />
    <preference name="orientation" value="default" />
    <preference name="target-device" value="universal" />
    <preference name="Fullscreen" value="false" /> 
    <preference name="WebViewBounce" value="false" /> 	
    <preference name="prerendered-icon" value="false" /> 	
    <preference name="stay-in-webview" value="false" />
<!--    <preference name="ios-statusbarstyle" value="lightcontent" />  -->
    <preference name="detect-data-types" value="true" />
    <preference name="exit-on-suspend" value="false" />
    <preference name="ShowSplashScreenSpinner" value="false"/>
    <!--    <preference name="AutoHideSplashScreen" value="false" /> -->
    <preference name="disable-cursor" value="false" />
    <preference name="KeepRunning" value="true"/>
    <preference name="android-minSdkVersion" value="16" />
    <preference name="android-installLocation" value="auto" />
	<preference name="android-build-tool" value="gradle" />
	
	<!--<gap:plugin name="org.apache.cordova.media" />  -->

	<plugin name="cordova-plugin-device" />
	<plugin name="cordova-plugin-device-orientation" />
	<plugin name="cordova-plugin-dialogs" />
	<plugin name="cordova-plugin-globalization" />
	<plugin name="cordova-plugin-inappbrowser" />
	<plugin name="cordova-plugin-network-information" />
	<plugin name="cordova-plugin-splashscreen" /> 
	<plugin name="cordova-plugin-vibration" />
	<plugin name="cordova-plugin-statusbar" />
	<plugin name="cordova-plugin--disable-ios11-statusbar" spec="https://github.com/jcesarmobile/cordova-plugin-disable-ios11-statusbar" />
	<plugin name="cordova_app_version_plugin" />	
	<!--<plugin name="net.bgta.phonegap.plugin.appversion" spec="1.1.1" source="pgb" />
	<plugin name="de.appplant.cordova.plugin.badge" />-->

    <plugin name="cordova-plugin-datepicker"/>
    <plugin name="cordova-plugin-email-composer"/>
    <plugin name="cordova-plugin-badge"/>
	
	<plugin name="cordova-plugin-calendar" >
		 <variable name="CALENDAR_USAGE_DESCRIPTION" value="Calendar access required to be able to add events to your calendar." />
	</plugin>

	<!-- Test if you need this -->
	<plugin name="cordova-plugin-camera">
	      <variable name="CAMERA_USAGE_DESCRIPTION" value="Camera access is required for barcode scanning functionality." />
	</plugin>
	
	<plugin name="cordova-plugin-ios-camera-permissions" >
	     <variable name="CAMERA_USAGE_DESCRIPTION" value="Camera access is required for barcode scanning functionality." />
	</plugin>

	<!--<plugin name="phonegap-plugin-push" spec="1.5.3" source="npm">-->	    
<!--    <engine name="cordova" version=">=6.4.0"/> -->
	<!-- <engine name="cordova-ios" version="~4.3.0"/> -->
<!--    <engine name="ios" spec="latest"/> -->

    <!--	<gap:plugin name="https://github.com/katzer/cordova-plugin-local-notifications.git" source="git"/>
	<gap:plugin name="de.appplant.cordova.plugin.local-notification" /> -->
<!--
	now causing push notifications to fail see https://github.com/phonegap/phonegap-plugin-push/issues/1959
		<plugin name="de.appplant.cordova.plugin.local-notification" />	 -->
    <plugin name="phonegap-plugin-barcodescanner" source="npm" spec="https://github.com/phonegap/phonegap-plugin-barcodescanner.git" /> 
				
   <!-- <plugin name="phonegap-plugin-push" spec="2.1.0" /> -->

 	
    <plugin name="phonegap-plugin-push" source="npm" spec="2.0.0" />
	  
    <platform name="android">
	  <resource-file src="google-services.json" target="google-services.json" />
	</platform>
     
   	<allow-navigation href="http://*/*" />
	<allow-navigation href="https://*/*" />
	<allow-navigation href="data:*" />
	
	<access origin="*" />

    <plugin name="cordova-plugin-whitelist" version="1" />
    <allow-intent href="http://*/*" />
    <allow-intent href="https://*/*" />
    <allow-intent href="tel:*" />
    <allow-intent href="sms:*" />
    <allow-intent href="mailto:*" />
    <allow-intent href="geo:*" />
    <platform name="android">
        <allow-intent href="market:*" />
    </platform>
    <platform name="ios">
        <allow-intent href="itms:*" />
        <allow-intent href="itms-apps:*" />
    </platform>

	<platform name="ios">
     <edit-config target="NSCalendarsUsageDescription" file="*-Info.plist">
          <string>Calendar access required to be able to add events to your calendar.</string>
     </edit-config>

	<!-- Test if you need this -->
    <!-- <edit-config target="NSCameraUsageDescription" file="*-Info.plist" mode="overwrite"> -->
   	 <edit-config target="NSCameraUsageDescription" file="*-Info.plist">
          <string>Camera access is required for barcode scanning functionality.</string>
     </edit-config>
	</platform>

     
     
</widget>